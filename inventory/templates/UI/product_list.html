<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List - Inventory System</title>
    <link rel="stylesheet" href="../../static/products.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

</head>
<body>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <i class="fas fa-bars" id="burger-menu"></i>
        </div>
        <nav>
            <ul>
                <li><a href="/" class="active"><i class="fas fa-home"></i>Home</a></li>
                <li><a href="products"><i class="fas fa-box"></i>Products</a></li>
                <li><a href="transactions"><i class="fas fa-shopping-cart"></i>Orders</a></li>
                <li><a href="#"><i class="fas fa-users"></i>Users</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="main">
        <!-- Header -->
        <header class="main-header">
            <h2 class="title">ShelfTrack</h2>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
            </div>
            <div class="user-profile">
                <span>Welcome, {{ user.username }}!</span>
                <a href="{% url 'logout' %}">Logout</a>
            </div>
        </header>

         <!-- Product Cards by Category -->
         <h1>Product List</h1>
        
         {% for category in categories %}
             <div class="category-section">
                 <h2 class="category-title">{{ category.name }}</h2>
                 <div class="card-container">
                     {% for product in category.products.all %}
                         <div class="product-card">
                             <img src="{{ product.image_url }}" alt="{{ product.name }}">
                             <div class="product-info">
                                 <h3>{{ product.name }}</h3>
                                 <p>{{ product.category.name }}</p>
                                 <div class="price">{{ product.price }}</div>
                                 <div class="stock-status {% if product.stock_quantity <= product.reorder_level %}low-stock{% else %}in-stock{% endif %}">
                                     {% if product.stock_quantity <= product.reorder_level %}
                                         Low Stock
                                     {% else %}
                                         In Stock
                                     {% endif %}
                                 </div>
                             </div>
                         </div>
                     {% empty %}
                         <p>No products in this category.</p>
                     {% endfor %}
                 </div>
             </div>
         {% endfor %}

        <a class="back-link" href="/">Back to Home</a>
    </div>

</body>
</html>
